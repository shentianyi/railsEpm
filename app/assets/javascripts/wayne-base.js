function adapt_event(event){var e=event?event:window.event,target=e.target?e.target:e.srcElement;return{event:e,target:target}}function stop_propagation(event){var e=adapt_event(event),event=e.event;event.stopPropagation?event.stopPropagation():event.cancelBubble=!0}function standardParse(date_value){for(var date_value=date_value.replace(/\s/g,"-").replace(/:/g,"-").replace(/T/g,"-").split("-"),date_template={0:"0000",1:"00",2:"01",3:"00",4:"00"},i=0;i<date_value.length;i++)date_template[i.toString()]=date_value[i];return"00"!=date_template[1]&&(date_template[1]=(parseInt(date_template[1])-1).toString()),{date:new Date(date_template[0],date_template[1],date_template[2],date_template[3],date_template[4]),template:date_template}}function inner_size(){var width,height;return window.innerWidth?width=window.innerWidth:document.body.clientWidth&&(width=document.body.clientWidth),window.innerHeight?height=window.innerHeight:document.body.clientHeight&&(height=document.body.clientHeight),{height:height,width:width}}function last_date_of_week(date_value){var endDate,date=new Date(date_value);return endDate=0==date.getDay()?new Date(date.getFullYear(),date.getMonth(),date.getDate()):new Date(date.getFullYear(),date.getMonth(),date.getDate()-date.getDay()+7),{date:endDate,year:endDate.getFullYear()}}function compare_time(begin_time,end_time){var begin=standardParse(begin_time).date-standardParse(end_time).date<=0?begin_time:end_time,end=standardParse(begin_time).date-standardParse(end_time).date>=0?begin_time:end_time;return{begin:begin,end:end}}function deepCopy(p,c){var c=c||{};for(var i in p)"object"==typeof p[i]?(c[i]=p[i].constructor==Array?[]:{},deepCopy(p[i],c[i])):c[i]=p[i];return c}function TCR(a,t){var a=parseFloat(a),t=parseFloat(t),judge=1>a/t?"low":a/t==1?"middle":"high";return{value:(a/t*100).toFixed(1)+" %",judge:judge}}function show_loading(top,right,bottom,left){var body=document.getElementsByTagName("body")[0],loading=document.createElement("div");loading.className="loading",loading.innerHTML="<p>Wait a minute , it's coming </p>",loading.setAttribute("id","loading"),loading.setAttribute("style","top:"+top+"px;right:"+right+"px;bottom:"+bottom+"px;left:"+left+"px;"),body.appendChild(loading)}function remove_loading(){var body=document.getElementsByTagName("body")[0],loading=document.getElementById("loading");body.removeChild(loading)}function dashboard_show_loading(out_id){if($("#"+out_id).prepend($("<div />").addClass("dashboard-show-loading").append($("<i />").addClass("icon-spinner icon-spin icon-2x"))),arguments.length>1){var top=arguments[1],right=arguments[2],bottom=arguments[3],left=arguments[4];$("#"+out_id).find(".dashboard-show-loading").css("top",top).css("right",right).css("bottom",bottom).css("left",left)}}function dashboard_remove_loading(out_id){$("#"+out_id).find(".dashboard-show-loading").remove()}Date.prototype.monthToQuarter||(Date.prototype.monthToQuarter=function(){switch(Math.floor(this.getMonth()/3)){case 0:return 1;case 1:return 2;case 2:return 3;case 3:return 4}}),Date.prototype.toWayneString||(Date.prototype.toWayneString=function(){var second=this.getSeconds()<10?"0"+this.getSeconds():this.getSeconds(),minute=this.getMinutes()<10?"0"+this.getMinutes():this.getMinutes(),hour=this.getHours()<10?"0"+this.getHours():this.getHours(),day=this.getDate()<10?"0"+this.getDate():this.getDate(),month=this.getMonth()+1<10?"0"+(this.getMonth()+1):this.getMonth()+1,year=this.getFullYear();return{second:year+"-"+month+"-"+day+" "+hour+":"+minute+":"+second,minute:year+"-"+month+"-"+day+" "+hour+":"+minute,hour:year+"-"+month+"-"+day+" "+hour+":00",day:year+"-"+month+"-"+day,week:year+"-"+month+"-"+day,month:year+"-"+month,quarter:year+"-"+month,year:year.toString()}}),Date.prototype.toWeekNumber||(Date.prototype.toWeekNumber=function(){this.setHours(0,0,0),this.setDate(this.getDate()+4-(this.getDay()||7));var yearStart=new Date(this.getFullYear(),0,1),weekNo=Math.ceil(((this-yearStart)/864e5+1)/7);return weekNo});